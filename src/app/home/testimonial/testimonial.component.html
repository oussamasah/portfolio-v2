<div class="h-screen bg-gradient-to-r   relative text-white  text-center !bg-fixed " id="testimonial-section"
[ngStyle]="{
    backgroundImage: 'url(assets/img/Testimonial-bg.jpg)',
    backgroundRepeat: 'no-repeat',
    backgroundSize: 'cover'
 
  }"
>

<div class="flex justify-center items-center h-screen bg-[#0f172a99]">
    <div class="w-[50%] bg-slate-900 h-full  flex justify-center items-center p-2  lg:!p-10">
        <div class="md:!mb-20" data-aos="fade-up" data-aos-delay="500" data-aos-duration="500" data-aos-once="false">
            <h2 class="text-lg text-[#55e6a5] uppercase mb-2 sm:!mb-10 font-light">
                Testimonials
            </h2>
            <span class="text-xl md:text-5xl font-bold uppercase block     md:!mb-10">
                What They Say About Me
            </span>
            <p class="md:!mb-10">Hear directly from those who have worked with me. These testimonials reflect their experiences, highlighting my dedication, skills, and commitment to delivering exceptional results. Let their words speak for the value I bring to every project!</p>
            <a (click)="openPopup()" class="btn cursor-pointer mt-3 relative inline-block" data-aos="fade-out"
                data-aos-delay="1000" data-aos-duration="500">Share Your Experience <i
                    class="fa-solid fa-quote-left ml-2"></i></a>
    
        </div>

    </div>
    <div class="w-[50%]  p-2  lg:!p-10   ">
    <p-carousel [value]="items" styleClass="custom-carousel"  [numVisible]="1" [numScroll]="1" [circular]="true" autoplayInterval="7000"
    data-aos="flip-up" data-aos-delay="800" data-aos-duration="500" data-aos-once="false"
    [responsiveOptions]="responsiveOptions">
    <ng-template let-item pTemplate="item">
      <div class="item p-5 w-full ">
        <div class="footer-testimonial my-2 p-3">
            <div class="astrodivider  mb-2">
                <div class="astrodividermask"></div><span [ngStyle]="{background: 'url(' + path + item.photo + ')'}"></span>
              </div>
          <h3 class="text-xl font-bold mt-5">
            {{ item.name }}
            <span class="block text-sm font-light">{{item.createdDate | date:"dd-MM-yyyy"}}</span>
          </h3>
          </div>
        <div
          class="m-  item-wrapper border-1 border-slate-800 mt-10 sm:!mt-20 pt-7 0 p-5 relative border border-[#09101a] min-h-[200px] sm:!min-h-[300px]">
          <p class="text-center italic my-3">{{ item.description }}</p>
        
    
          
        </div>
      </div>
    </ng-template>
  </p-carousel>
</div>
</div>
</div>

<div *ngIf="isPopupVisible" class="fixed inset-0  bg-black bg-opacity-80 flex justify-center items-center">
    <div class=" bg-slate-800 p-6  shadow-md w-1/3">
        <h2 class="text-2xl font-bold mb-4">
            Share Your Experience
        </h2>
        <div class="text-green-500 my-3" *ngIf="response_message && response_message!=null">{{response_message}}</div>
        <div class="text-red-500 my-3" *ngIf="response_error && response_error!=null">{{response_error}}</div>
        <form (ngSubmit)="submitForm()" [formGroup]="form" class="w-full block text-left">
            <div class="text-red-500 text-sm italic mb-1">
                <div *ngIf="form.get('name')?.invalid && form.get('name')?.touched">
                    <div *ngIf="form.get('name')?.hasError('required')">*Name is required.</div>
                    <div *ngIf="form.get('name')?.hasError('pattern')  ">*Please enter a valid name.</div>
                    <div *ngIf="form.get('name')?.hasError('minlength')  ">*Please enter name min must be at least 3
                        chars</div>

                </div>
            </div>
            <input type="text" placeholder="*Your name" id="name" formControlName="name"
                [ngClass]="form.get('name')?.invalid && form.get('name')?.touched? '!border-red-500':' !border-[#55E6A5]'"
                class=" block w-full  bg-transparent border-2 !caret-[#55E6A5] placeholder-gray-400 mb-2  md:!mb-5" />
            <div class="text-red-500 text-sm italic mb-1">
                <div *ngIf="form.get('email')?.invalid && form.get('email')?.touched">
                    <div *ngIf="form.get('email')?.hasError('required')">*Email is required.</div>
                    <div *ngIf="form.get('email')?.hasError('email')||form.get('email')?.hasError('pattern')">*Please             enter a
                        valid email address.</div>

                </div>
            </div>
            <input placeholder="*Your email" id="email" type="email" formControlName="email"
                [ngClass]="form.get('email')?.invalid && form.get('email')?.touched? '!border-red-500':' !border-[#55E6A5]'"
                class=" block w-full  bg-transparent border-2 !caret-[#55E6A5] placeholder-gray-400 mb-2 md:!mb-5" />
               


                <div class="text-red-500 text-sm italic mb-1">
                    <div *ngIf="form.get('photo')?.hasError('invalidFileType')">*Photo extension not valid.</div>
                    <div *ngIf="form.get('photo')?.hasError('fileSizeExceeded')">*Photo size not valid.</div>

                    <div *ngIf="form.get('photo')?.invalid && (form.get('photo')?.dirty || form.get('photo')?.touched)">
                        <div *ngIf="form.get('photo')?.hasError('required')">*Photo is required.</div>
                        
                    </div>
                </div>
                <div class="file-input !bg-slate-800 w-full mb-2 md:!mb-5 border-2 !caret-[#55E6A5]" 
                [ngClass]="form.get('photo')?.invalid ? '!border-red-500' : '!border-[#55E6A5]'">
                <label for="photo" class=" !text-gray-400">*Upload Your Photo  <span *ngIf="formData.photo"> : {{ formData.photo.name || "" }}</span></label>
                
                <!-- Display selected file name -->
                <input placeholder="Your photo" id="photo" type="file" (change)="onFileChange($event)"
                  class="block w-full bg-transparent border-2 !caret-[#55E6A5] placeholder-gray-400 mb-2 md:!mb-5" />
                
                <!-- Show selected file name -->
               



              </div>
              

                <div class="text-red-500 text-sm italic mb-1">
                    <div *ngIf="form.get('message')?.invalid && form.get('message')?.touched">
                        <div *ngIf="form.get('message')?.hasError('required')">*Experience is required.</div>
                        <div *ngIf="form.get('message')?.hasError('minlength')">*Experience must be at least 10 chars.
                        </div>
                    </div>
                </div>
                <textarea placeholder="*Your message" id="message" formControlName="message" rows="5"
                    class=" block w-full  bg-transparent border-2 !caret-[#55E6A5] placeholder-gray-400 mb-2 md:!mb-10 rows-3 md:!rows-5"
                    [ngClass]="form.get('message')?.invalid && form.get('message')?.touched? '!border-red-500':' !border-[#55E6A5]'"></textarea>
                    
                <input type="button" value="Cancel" 
                    class="!bg-gray-400  mr-3 !p-3 cursor-pointer"
                  (click)="closePopup()">
                <input type="submit" value="Submit"
                    class="!bg-[#55E6A5] !p-3 disabled:!opacity-50 disabled:!cursor-not-allowed"
                    [disabled]="form.invalid">
                  
        </form>
    </div>

</div>